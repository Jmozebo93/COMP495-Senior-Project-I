<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!--Stylesheets for navbar and individual page-->
  <link rel="stylesheet" href="./css/nav.css" />
  <link rel="stylesheet" href="./css/chat.css" />
  <!--Create socket io connection to server-->
  <script src="/socket.io/socket.io.js"></script>




  <title>Chat Page</title>
</head>

<body>
  <!--Navbar-->
  <!--It is responsive-->
  <header class="navbar">
    <a class="logo" href="home.html">Aggie Advise</a>
    <input type="checkbox" id="nav-toggle" class="nav-toggle" />
    <nav>
      <ul class="links">
        <li data-role="STUDENT"><a class="nav-link" href="student-profile.html">Profile</a></li>
        <li data-role="ADVISOR"><a class="nav-link" href="advisee-view.html">View</a></li>
        <li><a class="nav-link" href="chat.html">Chat</a></li>
        <li class="calc-links">
          <a class="nav-link" href="#">Calculator &#x25BC;</a>
          <ul class="dropdown" id="dropdown">
            <li><a href="gpa-calculator.html">GPA Calculator</a></li>
            <li>
              <a href="course-calculator.html">Course Calculator</a>
            </li>
          </ul>
        </li>
        <li><a class="nav-link" id="logout-link" href="#">Logout</a></li>
      </ul>
    </nav>
    <label for="nav-toggle" class="nav-toggle-label">&#9776;</label>
  </header>
  <div id="error-container">
    <div><span class="closebtn" onclick="closeErrorContainer()">&times;</span></div>

    <ul id="listed-messages">
      <!--Display for errors-->
    </ul>
  </div>
  <!--Body of chat page-->
  <main class="chat-container">
    <!--Sidebar-->
    <div id="sidebar">
      <!--Search Bar-->
      <div id="search-overlay">
        <div id="search-bar">
          <input type="text" id="search-input" placeholder="Search by name..." name="search" oninput="searchUsers()">
          <div id="search-results">
            <!--Results will be displayed here-->
            <ul id="searched-users">
              <!--User results go here-->
            </ul>
          </div>
        </div>
      </div>

      <!--Section for List of users to select from-->
      <p id="sidebar-header">Users:</p>
      <div id="user-list">
        <!--Actual list of users-->
        <ul id="sidebar-userlist">
        </ul>
      </div>
      <div id="sidebar-footer"></div>
    </div>
    <!--Chat Window-->
    <div id="chat-window">

      <!--Chat Header-->
      <div id="chat-header">
        <div id="selecteduserContainer">
          <span id="selected-username"></span>
        </div>
        <div id="closebContainer">
          <button id="close-button" onclick="closeChat()">Close</button>
        </div>

      </div>

      <!--Chat Body-->
      <div id="chat-body">
        <!--Dynamically added-->
      </div>

      <!--Chat Footer-->
      <div class="chat-footer">
        <input id="chat-input" type="text" placeholder="Type Message...">
        <button id="send-button" onclick="sendMessage()">Send</button>
      </div>
    </div>
  </main>
  <!--Function for logging the user out-->
  <script src="./javascript/logout.js"></script>
  <script src="./javascript/role.js"></script>
  <script src="./javascript/chat.js"></script>
</body>

</html>